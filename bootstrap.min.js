(async()=>{const response=await fetch("game.json");const config=await response.json();const coreVersion=config.game.requiredCoreVersion||"0.1.2";const useCDN=config.game.useCDN!==false;const baseUrl=`https://cdn.jsdelivr.net/gh/greenjug/scenie@v${coreVersion}`;let emitVersion=null;let emitVerbosity="console";if(config.game.requires&&Array.isArray(config.game.requires)){const emitReq=config.game.requires.find(req=>typeof req==="object"&&req.module==="emit");if(emitReq){emitVersion=emitReq.version;emitVerbosity=emitReq.verbosity||"console";window.emitVerbosity=emitVerbosity;const emitBaseUrl=`https://cdn.jsdelivr.net/gh/greenjug/scenie@v${emitVersion}`;await loadScript(`${emitBaseUrl}/emit.js`)}}await loadScript(`${baseUrl}/core.js`);if(config.game.requires&&Array.isArray(config.game.requires)){for(const req of config.game.requires){let scriptName,moduleVersion;if(typeof req==="string"){scriptName=req;moduleVersion=config.game[`required${scriptName.charAt(0).toUpperCase()+scriptName.slice(1)}Version`]||coreVersion}else{scriptName=req.module;moduleVersion=req.version;if(scriptName==="emit")continue}const moduleBaseUrl=`https://cdn.jsdelivr.net/gh/greenjug/scenie@v${moduleVersion}`;await loadScript(`${moduleBaseUrl}/${scriptName}.js`)}}new Game(config)})();function loadScript(src){return new Promise((resolve,reject)=>{const script=document.createElement("script");script.src=src;script.onload=resolve;script.onerror=reject;document.head.appendChild(script)})}